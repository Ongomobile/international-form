<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>International Popup Form</title>
    <link href="css/normalize.css" rel="stylesheet" type="text/css" />
    <link href="css/style.css" rel="stylesheet" type="text/css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/css/intlTelInput.css"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/intlTelInput.min.js"></script>
    <script
      src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js"
      type="text/javascript"
    ></script>
    <script type="text/javascript">
      WebFont.load({
        google: {
          families: [
            "Open Sans:300,300italic,400,400italic,600,600italic,700,700italic,800,800italic",
          ],
        },
      });
    </script>
    <!-- [if lt IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js" type="text/javascript"></script><![endif] -->
    <script type="text/javascript">
      !(function (o, c) {
        var n = c.documentElement,
          t = " w-mod-";
        (n.className += t + "js"),
          ("ontouchstart" in o ||
            (o.DocumentTouch && c instanceof DocumentTouch)) &&
            (n.className += t + "touch");
      })(window, document);
    </script>
    <link href="images/favicon.png" rel="shortcut icon" type="image/x-icon" />
    <link href="images/webclip.png" rel="apple-touch-icon" />
  </head>
  <body>
    <div class="my-contain">
      <div class="main">
        <h1 class="heading">Awesome Attention Grabbing Headline</h1>
      </div>
      <div class="form-wrapper show">
        <a href="#" class="form-close-btn mobile w-inline-block">
          <div class="close-text mobile">X</div> </a
        ><img
          src="images/comfirmedImg.png"
          loading="lazy"
          alt="Be a vip
"
          class="image"
        />
        <div class="form-content-right">
          <a href="#" id="close-btn" class="form-close-btn w-inline-block">
            <div class="close-text">X</div>
          </a>
          <div class="form-top-content">
            <div class="form-headline">Join The Club</div>
            <div class="form-subheadline">Meet some cool people</div>
          </div>
          <div class="form-block w-form">
            <form id="email-form" name="email-form" onsubmit="process(event)">
              <label for="name" class="field-label">Phone number</label
              ><input
                type="tel"
                class="text-field w-input"
                maxlength="256"
                name="phoneInput"
                id="phoneInput"
              />
              <label for="user" class="field-label">First name</label
              ><input
                type="text"
                class="text-field w-input user-input"
                maxlength="256"
                name="user"
                id="user"
              />
              <label for="email" class="field-label">Email</label
              ><input
                type="text"
                class="text-field w-input email-input"
                maxlength="256"
                name="email"
                id="email"
              /><input
                type="submit"
                value="Subscribe"
                data-wait="Please wait..."
                class="submit-button w-button"
              />
            </form>
            <div class="alert alert-info" style="display: none"></div>
            <div class="alert alert-error" style="display: none"></div>
          </div>
        </div>
      </div>
    </div>
    <script>
      setTimeout(() => {
        document
          .getElementsByClassName("form-wrapper")[0]
          .classList.remove("show");
      }, 3000);
      const closeBtn = document.querySelector(".form-close-btn");
      const closeBtnDesktop = document.querySelector("#close-btn");
      const modal = document.querySelector(".form-wrapper");

      closeBtn.addEventListener("click", function () {
        modal.style.display = "none";
      });

      closeBtnDesktop.addEventListener("click", function () {
        modal.style.display = "none";
      });
    </script>
  </body>
  <script>
    const nameEntered = document.querySelector(".user-input");
    const emailEntered = document.querySelector(".email-input");

    const phoneInputField = document.querySelector("#phoneInput");
    const phoneInput = window.intlTelInput(phoneInputField, {
      utilsScript:
        "https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/utils.js",
    });

    const info = document.querySelector(".alert-info");

    const error = document.querySelector(".alert-error");

    function process(event) {
      event.preventDefault();
      const phoneNumber = phoneInput.getNumber();

      info.style.display = "none";
      error.style.display = "none";

      if (phoneInput.isValidNumber()) {
        info.style.display = "";
        info.innerHTML = `Phone number is: <strong>${phoneNumber}</strong> 
        Name is:  <strong>${nameEntered.value}</strong> 
        Email is:  <strong>${emailEntered.value}</strong>`;
      } else {
        error.style.display = "";
        error.innerHTML = `Invalid phone number.`;
      }

      phoneInputField.value = "";
      nameEntered.value = "";
      emailEntered.value = "";
    }
  </script>
</html>
